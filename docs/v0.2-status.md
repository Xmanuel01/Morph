Enkai v0.2 Status vs Enkai.spec

Legend:
- Implemented: behavior matches v0.2 scope.
- Partial: works with v0.2 constraints, but missing full spec semantics.
- TODO: not implemented.

1) Modules + use resolution
- File-based module resolution (Implemented) `enkaic/src/loader.rs` (ModuleLoader::resolve_module_file).
- use foo.bar => src/foo/bar.enk or src/foo/bar/index.enk (Implemented) `enkaic/src/loader.rs`.
- Module loading with dependency scan (Implemented) `enkaic/src/loader.rs` (collect_uses, load_module_path).
- Module records exposed at runtime (Implemented) `enkairt/src/runtime.rs` (eval_module_record, define_path).

2) Enkai run . (project entry)
- Enkai.toml discovery and src/main.enk entry (Implemented) `enkai/src/main.rs` (resolve_entry).
- Package loading from root + entry (Implemented) `enkai/src/main.rs` + `enkaic/src/loader.rs`.

3) Better diagnostics (line/col + snippet)
- Parse/lex errors include line/col + snippet (Implemented) `enkaic/src/parser.rs` (ParseError::fmt, format_snippet).
- CRLF line endings are normalized by `str::lines` for snippet display (Implemented) `enkaic/src/parser.rs` (format_snippet).

4) Runtime stack traces
- Stack frames for user + native calls (Implemented) `enkairt/src/runtime.rs` (RuntimeError::add_frame, eval_call).

5) Minimal formatter / formatting validation
- Indentation-based formatter + --check validation (Implemented) `enkaic/src/formatter.rs`.
- CLI wiring for Enkai fmt (Implemented) `enkai/src/main.rs`.

6) Policy enforcement MVP
- Default deny for capabilities (Implemented) `enkairt/src/runtime.rs` (check_capability).
- allow/deny rules for io/fs/net/process/model/memory/tool (Implemented) `enkairt/src/runtime.rs` (Policy::is_allowed).
- Capability matching is prefix-based and deny overrides allow (Implemented) `enkairt/src/runtime.rs` (capability_matches, Policy::is_allowed).
- Tool and std stub gating by policy (Implemented) `enkairt/src/runtime.rs` (define_tool_stub, install_builtins, eval_call).
- Model/memory stubs are exposed via `std.ai.*` to avoid keyword field access (Implemented) `enkairt/src/runtime.rs` (install_builtins).

Divergences / v0.2 constraints
- Policy filters are parsed but ignored at runtime (Partial) `enkairt/src/runtime.rs` (register_policy).
- Only a policy named "default" becomes the module policy; no block-level policy scoping (Partial).
- Policies are not intersected; single active policy enforced per scope (Partial).
- Formatter adjusts indentation only and normalizes line endings; it is not a full AST rewriter (Partial).



